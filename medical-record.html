<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Prontuário Dinâmico</title>
    <link rel="stylesheet" href="css/medical-record.css">
</head>
<body>
<div class="header">
    <div class="return">
        <a href="#" id="selectPatientIcon"><img src="img/patients_icon2.png" alt="Selecionar Paciente"></a>
    </div>
    <div id="text">
        <h1>Prontuário</h1>
    </div>
    <div class="add">
        <a href="index.html"><img src="img/home_icon.png" alt="Voltar para Página Inicial"></a>
    </div>
</div>

<div class="content-container">
    <div class="patient-info-header">
        <img id="patientPhoto" src="img/user_icon2.png" alt="Foto do Paciente">
        <h2 id="patientName">Carregando paciente...</h2>
    </div>

    <div class="date-shift-selector">
        <div class="date-selector">
            <label for="recordDate">Data:</label>
            <input type="date" id="recordDate" name="recordDate">
        </div>
        <div class="shift-selector">
            <span>Turno:</span>
            <input type="radio" id="shift-day" name="shift" value="diurno" checked>
            <label for="shift-day">Diurno</label>
            <input type="radio" id="shift-night" name="shift" value="noturno">
            <label for="shift-night">Noturno</label>
        </div>
    </div>

    <form id="medicalRecordForm" class="hidden">
        <div id="diurno-form" class="shift-form">
            <h3>Registro Diurno</h3>
            <div id="diurno-fields-container" class="fields-container">
                <p>Carregando campos...</p>
            </div>
        </div>
        <div id="noturno-form" class="shift-form hidden">
            <h3>Registro Noturno</h3>
            <div id="noturno-fields-container" class="fields-container">
                <p>Carregando campos...</p>
            </div>
        </div>

        <button type="button" id="addFieldButton" class="action-button add-field">Adicionar Campo (Especial)</button>

        <div class="actions">
            <button type="button" id="saveRecordButton" class="action-button save">Salvar Ambos os Turnos</button>
            <button type="button" id="exportPdfButton" class="action-button export">Exportar PDF</button>
        </div>
    </form>
</div>

<div id="patientSelectionModal" class="modal">
    <div class="modal-content">
        <span class="close-patient-selection-modal">&times;</span>
        <h2>Selecione o Paciente</h2>
        <div id="modal-patient-list" class="modal-patient-list">
        </div>
    </div>
</div>

<div id="add-field-modal" class="modal">
    <div class="modal-content">
        <span class="close-add-field-modal">&times;</span>
        <h2>Adicionar Campo Específico do Paciente</h2>
        <form id="addFieldForm">
            <p>Este campo será salvo apenas para este paciente.</p>
            <div class="info-box">
                <label for="fieldName">Nome do Campo:</label>
                <input type="text" id="fieldName" required>
            </div>
            <div class="info-box">
                <label for="fieldType">Tipo do Campo:</label>
                <select id="fieldType">
                    <option value="text">Texto (Linha Única)</option>
                    <option value="textarea">Texto Longo (Observações)</option>
                    <option value="radio">Múltipla Escolha (Selecionar Um)</option>
                    <option value="checkbox">Múltipla Seleção (Selecionar Vários)</option>
                </select>
            </div>
            <div class="info-box" id="fieldOptionsContainer" style="display: none;">
                <label for="fieldOptions">Opções (separadas por vírgula):</label>
                <input type="text" id="fieldOptions" placeholder="Ex: Opção 1, Opção 2, Opção 3">
            </div>
            <button type="submit" class="action-button save">Confirmar Novo Campo</button>
        </form>
    </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="js/medical-record.js"></script>
</body>
</html>